<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Setting up the projects | EmbeddedFPSExample</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/EmbeddedFPSExample/assets/css/0.styles.7db95943.css" as="style"><link rel="preload" href="/EmbeddedFPSExample/assets/js/app.0facf3f9.js" as="script"><link rel="preload" href="/EmbeddedFPSExample/assets/js/16.340c8491.js" as="script"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/10.d6c42d6a.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/11.c5e4eaaa.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/12.81e5ed02.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/13.13ba422c.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/14.78214e72.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/15.110671ae.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/17.dfac54fd.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/2.e2bca5e2.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/3.4a7a99d1.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/4.0b9e0af5.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/5.8d4560b8.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/6.9c95efb4.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/7.76d085cb.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/8.193980ce.js"><link rel="prefetch" href="/EmbeddedFPSExample/assets/js/9.13b3fcb5.js">
    <link rel="stylesheet" href="/EmbeddedFPSExample/assets/css/0.styles.7db95943.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/EmbeddedFPSExample/" class="home-link router-link-active"><!----> <span class="site-name">EmbeddedFPSExample</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/EmbeddedFPSExample/guide/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/EmbeddedFPSExample/guide/setting-up-the-projects.html" class="active sidebar-link">Setting up the projects</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/EmbeddedFPSExample/guide/setting-up-the-projects.html#project-structure-with-darkrift" class="sidebar-link">Project Structure with Darkrift</a></li><li class="sidebar-sub-header"><a href="/EmbeddedFPSExample/guide/setting-up-the-projects.html#setup" class="sidebar-link">Setup</a></li><li class="sidebar-sub-header"><a href="/EmbeddedFPSExample/guide/setting-up-the-projects.html#setup-the-client" class="sidebar-link">Setup the client</a></li><li class="sidebar-sub-header"><a href="/EmbeddedFPSExample/guide/setting-up-the-projects.html#setup-the-server" class="sidebar-link">Setup the server</a></li><li class="sidebar-sub-header"><a href="/EmbeddedFPSExample/guide/setting-up-the-projects.html#creating-a-folder-junction-to-share-scripts" class="sidebar-link">Creating a folder Junction to share scripts</a></li></ul></li><li><a href="/EmbeddedFPSExample/guide/client-basics-and-login-system-part-1.html" class="sidebar-link">Client Basics and Login System part 1</a></li><li><a href="/EmbeddedFPSExample/guide/server-basics-and-login-system.html" class="sidebar-link">Server Basics and Login System</a></li><li><a href="/EmbeddedFPSExample/guide/room-system-part-1-server-side.html" class="sidebar-link">Room System part 1 (Server-side)</a></li><li><a href="/EmbeddedFPSExample/guide/client-login-system-part-2-and-lobby.html" class="sidebar-link">Client Login System part 2 and Lobby</a></li><li><a href="/EmbeddedFPSExample/guide/room-system-part-2-server-side.html" class="sidebar-link">Room System part 2 (Server-side)</a></li><li><a href="/EmbeddedFPSExample/guide/player-movement-interpolation-and-client-side-prediction.html" class="sidebar-link">Player-Movement, Interpolation and Client Side Prediction</a></li><li><a href="/EmbeddedFPSExample/guide/multiplayer-gameplay.html" class="sidebar-link">Multiplayer Gameplay (Synchronization,-Buffers)</a></li><li><a href="/EmbeddedFPSExample/guide/reconciliation.html" class="sidebar-link">Reconciliation</a></li><li><a href="/EmbeddedFPSExample/guide/health-shooting-lag-Compensation.html" class="sidebar-link">Health, Shooting, Lag Compensation</a></li><li><a href="/EmbeddedFPSExample/guide/networking-discussion.html" class="sidebar-link">Networking Discussion</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="setting-up-the-projects"><a href="#setting-up-the-projects" aria-hidden="true" class="header-anchor">#</a> Setting up the projects</h1> <h2 id="project-structure-with-darkrift"><a href="#project-structure-with-darkrift" aria-hidden="true" class="header-anchor">#</a> Project Structure with Darkrift</h2> <p>Before we start our project we should take a minute to think about our project structure.
We will create a classic FPS game in this tutorial with a server and a client application. The server application will have full control (authoritative server) over the game, so cheating will be impossible.</p> <p>The client will be a unity game with a normal unity project. For the server we have 2 possibilities:</p> <ul><li>Use an embedded server (We will also run the server in Unity)</li> <li>Use a standalone server (The server will be just a C# console application)</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>If you use an embedded server you can also create the server and the client in the same project. But you will have to make sure that the client build includes no server code and vice versa which makes it a bit complicated.</p></div> <h3 id="reasons-to-go-for-an-embedded-server"><a href="#reasons-to-go-for-an-embedded-server" aria-hidden="true" class="header-anchor">#</a> Reasons to go for an embedded server</h3> <ul><li>You can use a similar project structure on your client and server (Monobehaviors)</li> <li>Access to Unity features like Physics, Navmesh or Collision detection.</li> <li>You can use graphical outputs for debugging or testing on your server.</li></ul> <h3 id="reasons-to-go-for-a-standalone-server"><a href="#reasons-to-go-for-a-standalone-server" aria-hidden="true" class="header-anchor">#</a> Reasons to go for a standalone server</h3> <ul><li>Less overhead then an embedded server (slightly increased performance)</li> <li>Easier to manage references and use external libraries (NuGet packages, C# 7 support...)</li> <li>Easier to containerize and deploy for production</li> <li>You can still use some Unity functions by referencing the UnityEngine.dll.</li></ul> <p>In the end standalone and embedded servers are pretty similar. We will go for an embedded server in this tutorial because we want to use the Unity collision detection and because I usually write standalone applications and want to try something different.</p> <h2 id="setup"><a href="#setup" aria-hidden="true" class="header-anchor">#</a> Setup</h2> <ul><li>Create a repository or folder for the unity projects, name it something like EmbeddedFPSExample</li></ul> <h2 id="setup-the-client"><a href="#setup-the-client" aria-hidden="true" class="header-anchor">#</a> Setup the client</h2> <div class="danger custom-block"><p class="custom-block-title">WARNING</p> <p>This project uses new physics features which were introduced in Unity 2018.3 so you have to use 2018.3 or a newer version of Unity.</p></div> <ul><li>Create a new Unity project (I called mine EmbeddedFPSClient).</li> <li>In Edit -&gt; Project Settings -&gt; Player -&gt; Other settings, make sure that Scripting Runtime Version is set to .Net 4.x equivalent.</li> <li>In Edit -&gt; Project Settings -&gt; Time set Fixed Timestep to 0.025 and Maximum Allowed Timestep to 100</li> <li>Head to the Asset Store and download the newest version of Darkrift 2.</li> <li>Create a basic folder structure (create a &quot;Prefabs&quot;, &quot;Scenes&quot; and &quot;Scripts&quot; folder)</li> <li>Create a Scene &quot;Main&quot; in the scenes folder</li></ul> <h2 id="setup-the-server"><a href="#setup-the-server" aria-hidden="true" class="header-anchor">#</a> Setup the server</h2> <p>Repeat the setup from the client but name the project something like EmbeddedFPSServer</p> <h2 id="creating-a-folder-junction-to-share-scripts"><a href="#creating-a-folder-junction-to-share-scripts" aria-hidden="true" class="header-anchor">#</a> Creating a folder Junction to share scripts</h2> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>I usually use a shared .dll file in a seperate project and not folder junction. Both are viable options to do, but if you plan to work on the project with a bigger team you should go for the .dll approach or use git submodules.</p></div> <p>Some scripts will be used by the client and the server, having a way to synchronize them saves time. There are many good ways to do that. For the sake of simplicity we will use a folder junction. A folder junction synchronizes all files inside a folder to another folder.</p> <ul><li>Create a &quot;shared&quot; folder inside the Scripts folder of the client project.</li></ul> <h3 id="windows"><a href="#windows" aria-hidden="true" class="header-anchor">#</a> Windows:</h3> <ul><li>open the cmd.exe</li> <li>type: <code>mklink /J &quot;Client shared folder&quot; &quot;server shared folder&quot;</code><br>
(Replace &quot;Client/Server shared folder&quot; with just the path, don't write the &quot;&quot;)</li></ul> <h3 id="mac-os-x"><a href="#mac-os-x" aria-hidden="true" class="header-anchor">#</a> Mac OS X</h3> <ul><li>open the terminal</li> <li>type: <code>ln -s &quot;Client shared folder&quot; &quot;server shared folder&quot;</code>\</li></ul> <p>This junction will share all changes that we make on the client <strong>But not the other way around so we will edit scripts in the shared folders always in the clients folder.</strong></p> <p>Now the setup is done and we can start to write some code 😃</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/EmbeddedFPSExample/guide/introduction.html" class="prev">
          Introduction
        </a></span> <span class="next"><a href="/EmbeddedFPSExample/guide/client-basics-and-login-system-part-1.html">
          Client Basics and Login System part 1
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/EmbeddedFPSExample/assets/js/app.0facf3f9.js" defer></script><script src="/EmbeddedFPSExample/assets/js/16.340c8491.js" defer></script>
  </body>
</html>
